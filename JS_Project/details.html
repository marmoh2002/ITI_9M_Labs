<!DOCTYPE html>
<html>

<head>
    <title>Product Details</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1 id="prodTitle">Loading...</h1>
    <img id="prodImg" src="" style="max-width:300px;">
    <p id="prodDesc"></p>
    <h3 id="prodPrice"></h3>

    <button onclick="goBack()">Back to Home</button>

    <script>
        // TOPIC 4: BOM (Location & URL Params)
        const params = new URLSearchParams(window.location.search);
        const productId = params.get("id");

        if (productId) {
            const xhr = new XMLHttpRequest();
            xhr.open("GET", `https://dummyjson.com/products/${productId}`);

            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    const product = JSON.parse(xhr.responseText);

                    // TOPIC 3: Changing Content
                    document.getElementById("prodTitle").innerText = product.title;
                    document.getElementById("prodDesc").innerText = product.description;
                    document.getElementById("prodPrice").innerText = "Price: $" + product.price;
                    document.getElementById("prodImg").src = product.thumbnail;
                }
            };
            xhr.send();
        }

        // TOPIC 1: Functions
        function goBack() {
            window.history.back(); // TOPIC 4: History Object
        }
    </script>
</body>

</html>